<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Questrial&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/mobile.css" />
    <link rel="stylesheet" href="/css/items.css" />
    <script
      src="https://kit.fontawesome.com/2e55deee48.js"
      crossorigin="anonymous"
    ></script>
    <title>咬一口廚房</title>
  </head>

  <body>
    <div id="page-container">
      <div id="content-wrap">
        <div class="container">
          <header id="header-home">
            <nav id="main-nav">
              <h1>
                <a href="/admin" class="logo">Just A Bite! 抽獎管理頁面</a>
              </h1>
              <ul>
                <li><a href="/game">抽獎頁面</a></li>
                <li><a href="/admin">獎項列表</a></li>
                <li><a href="/items">管理獎項</a></li>
                <li><a href="/product" class="active">管理商品</a></li>
                <li><a href="/admin_faq">管理常見問題</a></li>
                <li><a href="/logout">登出</a></li>
              </ul>
            </nav>
          </header>

          <section class="items center" style="width: 70%">
            <% if (errorMessage.length) { %>
            <div class="message error validation_errors">
              <p><%= errorMessage %></p>
            </div>
            <% }%>
            <div>
              <h1>編輯商品</h1>
              <p>
                商品更新方式: 直接在輸入框更改內容
                <br />
                直接在輸入框更改內容，
                <br />
                改完後，按下送出即更新該筆內容
              </p>
            </div>
            <table class="authority">
              <tbody>
                <tr>
                  <th>商品名</th>
                  <th>圖片</th>
                  <th>價格</th>
                  <th>數量</th>
                </tr>
                <% if(products.length) { %> <% products.forEach((product, i) =>
                { %>
                <form
                  id="add_role_form<%=i%>"
                  enctype="multipart/form-data"
                  action="/handleUpdateProduct"
                  method="POST"
                ></form>
                <tr>
                  <input
                    type="hidden"
                    name="product_id"
                    form="add_role_form<%=i%>"
                    value="<%= product.id %>"
                  />
                  <td>
                    <input
                      required=""
                      class="input-role"
                      name="product_name"
                      type="text"
                      form="add_role_form<%=i%>"
                      value="<%= product.item_name %>"
                    />
                  </td>
                  <td>
                    <label class="create-btn">
                      <input
                        class="file"
                        type="file"
                        name="product_image"
                        form="add_role_form<%=i%>"
                      />
                      <i class="fa fa-photo" aria-hidden="true"></i> 上傳圖片
                    </label>
                  </td>
                  <td>
                    <input
                      required=""
                      class="input-role"
                      name="product_price"
                      type="text"
                      form="add_role_form<%=i%>"
                      value="<%= product.item_price %>"
                    />
                  </td>
                  <td>
                    <input
                      required=""
                      class="input-role"
                      name="product_quantity"
                      type="text"
                      form="add_role_form<%=i%>"
                      value="<%= product.item_quantity %>"
                    />
                    <button
                      class="admin-btn add_role_btn"
                      form="add_role_form<%=i%>"
                    >
                      送出
                    </button>
                    <a href="/handleDeleteProduct/<%= product.id%>"
                      ><button class="admin-btn add_role_btn delete">
                        刪除
                      </button></a
                    >
                  </td>
                </tr>
                <% }) %> <% }%>
              </tbody>
            </table>

            <div>
              <h1>新增商品</h1>
              <p>填完內容按下送出即可</p>
            </div>
            <table class="authority">
              <tbody>
                <tr>
                  <th>商品名</th>
                  <th>圖片</th>
                  <th>價格</th>
                  <th>數量</th>
                </tr>
                <form
                  id="create-product"
                  enctype="multipart/form-data"
                  action="/handleCreateProduct"
                  method="POST"
                ></form>
                <tr>
                  <td>
                    <input
                      required=""
                      class="input-role"
                      name="product_name"
                      type="text"
                      form="create-product"
                    />
                  </td>
                  <td>
                    <label class="create-btn">
                      <input
                        class="file"
                        type="file"
                        name="product_image"
                        form="create-product"
                      />
                      <i class="fa fa-photo" aria-hidden="true"></i> 上傳圖片
                    </label>
                  </td>
                  <td>
                    <input
                      required=""
                      class="input-role"
                      name="product_price"
                      type="text"
                      form="create-product"
                    />
                  </td>
                  <td>
                    <input
                      required=""
                      class="input-role"
                      name="product_quantity"
                      type="text"
                      form="create-product"
                    />
                    <button
                      class="admin-btn add_role_btn"
                      form="create-product"
                    >
                      送出
                    </button>
                  </td>
                </tr>

                <tr></tr>
              </tbody>
            </table>
          </section>
          <div class="footer">
            <section id="home-e">
              <ul>
                <li>餐館地址: 天上地下天堂路三分之一里六段520號</li>
                <li>訂位專線：02-1314-5566</li>
                <li>
                  營業時間：週一〜週五 09:00~18:00 /
                  週六、週日、國定假日（含連假）休息
                </li>
                <li>email：service@justabite.com.tw</li>
              </ul>
              <div class="media">
                <div class="logo">Just A Bite!</div>
                <div class="medias">
                  <a href="#">Facebook</a>
                  /
                  <a href="#">Instagram</a>
                  /
                  <a href="#">Youtube</a>
                </div>
              </div>
            </section>

            <footer>
              Copyright © 2020 Just A Bite All Rights Reserved.
              咬一口股份有限公司版權所有
            </footer>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
