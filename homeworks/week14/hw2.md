# AWS 主機部署心得

本次部署我採用的是，**超級挑戰題-Docker 部署**，用 Docker 把 Nginx, PHP, MYSQL 容器化之後上傳到 AWS 的 EC2 主機上並運行，以下說說遇到的困難及挑戰。

## 系統問題:

由於 Docker 的核心是 Linux ，我家裡的電腦系統是 Windows 專業版 ，在下載 Docker 安裝的過程中遇到了需要開 Hyper-V 的問題，而在公司電腦上則是發生了 Windows 版本是家用版，需要更新成 2004 版才支援 Linux 子系統，否則無法使用 Docker 的問題；而在容器化 MySQL 的部分，則是因 Windows 版本問題，發生了在公司電腦上可以直接映射本地資料夾到 MySQL 容器裡的資料夾，在家裡電腦做同樣的事卻會報錯的情形，解決方式，直接以容器建立 Volume 後映射。

## 權限問題:

在建立 MySQL 容器之後，打開網頁發現沒有資料，從 developer tool 中發現，無法存取資料，查了資料之後才知道， ROOT 有安全性問題，所以無法直接存取資料，解決方式則是新建一個 User 然後賦予權限。

## 連線問題:

由於每個容器都是獨立的，且各自有自己的 IP ，所以要將每個容器都看作是獨立的主機，因此連線要記得設定，例如: 建立一個 network ，然後將每個容器指定在這個 network 底下，這樣容器間就能互連，跟真實世界的主機一樣了。

## 主機設定問題:

老實說這不太算是問題，頂多是比較繁雜而已，AWS 的服務很多，所以查資料會出現很多種部署的方式，當下真的不知道該如何選擇，所以就依照最簡原則去篩選掉複雜的，只看最簡單的教學文，當然，資料也是散散的，要靠自己把各種磚塊拼湊起來，然後，由於主機都是 Linux 的，所以還要根據教學文去查一下教學裡的指令到底有什麼作用，惡補了一下基本的 Linux 指令使用方法-.-，總之，最後總算還是順利的把 Docker 包好的 Nginx, PHP, MySQL 給上傳到主機上並運行了，當然，也順利的把網域名給映射到主機上了。

## 總結:

Docker 對 Windows 使用者真的很不友善啊...各種不支援，或是莫名其妙的錯誤....好在最後還是成功部署了~YA!

在學習使用 Docker 及 Nginx 的過程中，找了許多的資料，學到了 Nginx 跟 Apache 的不同，學到了 Docker 是什麼，為什麼要用 Docker 以及如何設定 Nginx 及 Docker ，不敢說自己真正學會了，頂多只能說知道怎麼讓它動起來而已，因為有太多的設定及細節都還沒來得及吸收理解，就待往後需要用到的時候再來理解吸收吧!

然後...學習新東西真的是滿累人的，尤其作業系統支援度低，出現各種莫名其妙的錯誤的時候真的會覺得很幹，但最後成功把網站部署到主機上並且看到網站成功的運行的時候，真的是很有成就感呢~!

最後期許自己可以一直保持學習動力，活到老學到老!!
